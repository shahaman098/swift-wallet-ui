import { TreasuryState } from "./types";

const now = Date.now();

export const mockTreasuryState: TreasuryState = {
  orgs: [
    {
      id: 1,
      name: "Atlas Labs",
      smartAccount: "0xA71a5Lab5SmartAcc0unt0000000000000000000001",
      configHash: "0xconfigatlas000000000000000000000000000000000000000000000000000000000001",
      active: true,
      createdAt: now - 1000 * 60 * 60 * 24 * 180,
      homeChainId: 8453,
    },
    {
      id: 2,
      name: "Nova DAO",
      smartAccount: "0xN0vaDa0SmartAcc0unt000000000000000000000002",
      configHash: "0xconfignova000000000000000000000000000000000000000000000000000000000002",
      active: true,
      createdAt: now - 1000 * 60 * 60 * 24 * 90,
      homeChainId: 10,
    },
  ],
  chainConfigs: [
    {
      orgId: 1,
      chainId: 8453,
      smartAccount: "0xA71a5Lab5SmartAcc0unt0000000000000000000001",
      vault: "0xVaultAt1a5000000000000000000000000000000001",
      ruleEngine: "0xRuleEngAt1a5000000000000000000000000000001",
      automationExecutor: "0xAut0ExecAt1a5000000000000000000000000001",
    },
    {
      orgId: 1,
      chainId: 42161,
      smartAccount: "0xA71a5Lab5SmartAccArb0000000000000000000001",
      vault: "0xVaultAt1a5Arb0000000000000000000000000001",
      ruleEngine: "0xRuleEngAt1a5Arb0000000000000000000000001",
      automationExecutor: "0xAut0ExecAt1a5Arb00000000000000000000001",
    },
    {
      orgId: 2,
      chainId: 10,
      smartAccount: "0xN0vaDa0SmartAcc0unt000000000000000000000002",
      vault: "0xVaultN0va0000000000000000000000000000000002",
      ruleEngine: "0xRuleEngN0va0000000000000000000000000000002",
      automationExecutor: "0xAut0ExecN0va0000000000000000000000000002",
    },
  ],
  policies: [
    {
      id: "atlas-spend",
      orgId: 1,
      type: "spendingLimit",
      name: "Atlas Spending Limits",
      description: "Daily and weekly spend caps enforced per department",
      config: { daily: 50000, weekly: 200000 },
      enabled: true,
    },
    {
      id: "atlas-whitelist",
      orgId: 1,
      type: "recipientWhitelist",
      name: "KYC Recipients",
      description: "Allow transfers only to KYC-approved addresses",
      config: { recipients: ["0xRecipientPayroll", "0xVendorAlpha"] },
      enabled: true,
    },
    {
      id: "atlas-schedule",
      orgId: 1,
      type: "scheduleEnforcement",
      name: "Automation Only Payroll",
      description: "Payroll distributions must be executed by Arc Automation",
      config: { enforcement: "automation-only" },
      enabled: true,
    },
    {
      id: "atlas-roles",
      orgId: 1,
      type: "role",
      name: "Role-Based Access",
      description: "Finance role required for manual payouts",
      config: { roles: { FINANCE_ROLE: ["withdrawOrg", "executeBatch"] } },
      enabled: true,
    },
    {
      id: "nova-spend",
      orgId: 2,
      type: "spendingLimit",
      name: "Nova Spend Guard",
      description: "Limit community treasury distributions",
      config: { daily: 100000, weekly: 500000 },
      enabled: true,
    },
  ],
  departments: [
    {
      id: 1,
      orgId: 1,
      name: "Core Operations",
      nameHash: "0xcoreops",
      cap: 500000,
      balance: 180000,
      active: true,
    },
    {
      id: 2,
      orgId: 1,
      name: "R&D",
      nameHash: "0xrandd",
      cap: 350000,
      balance: 220000,
      active: true,
    },
    {
      id: 3,
      orgId: 1,
      name: "Payroll",
      nameHash: "0xpayroll",
      cap: 400000,
      balance: 150000,
      active: true,
    },
    {
      id: 4,
      orgId: 2,
      name: "Ecosystem",
      nameHash: "0xecosystem",
      cap: 600000,
      balance: 300000,
      active: true,
    },
  ],
  allocationRules: [
    {
      id: 1,
      orgId: 1,
      allocationType: "Percentage",
      sourceDept: 1,
      targetDept: 2,
      bps: 1500,
      active: true,
    },
    {
      id: 2,
      orgId: 1,
      allocationType: "FixedAmount",
      sourceDept: 1,
      targetDept: 3,
      amount: 80000,
      cap: 400000,
      active: true,
    },
    {
      id: 3,
      orgId: 2,
      allocationType: "Residual",
      sourceDept: 4,
      targetDept: 4,
      active: true,
    },
  ],
  distributionRules: [
    {
      id: 1,
      orgId: 1,
      fromDept: 3,
      recipient: "PayrollProcessor",
      amount: 120000,
      frequency: "Monthly",
      lastExecuted: now - 1000 * 60 * 60 * 24 * 30,
      confidential: true,
      active: true,
      metadata: "Payroll cycle March",
    },
    {
      id: 2,
      orgId: 1,
      fromDept: 2,
      recipient: "ResearchVendor",
      amount: 25000,
      frequency: "Weekly",
      lastExecuted: now - 1000 * 60 * 60 * 24 * 7,
      confidential: false,
      active: true,
      metadata: "Research sprint 21",
    },
    {
      id: 3,
      orgId: 2,
      fromDept: 4,
      recipient: "CommunityFund",
      bps: 500,
      frequency: "Monthly",
      lastExecuted: now - 1000 * 60 * 60 * 24 * 31,
      confidential: false,
      active: true,
    },
  ],
  vaultBalances: [
    {
      orgId: 1,
      orgBalance: 650000,
      departments: {
        1: 180000,
        2: 220000,
        3: 150000,
      },
      lastUpdated: now - 1000 * 60 * 15,
    },
    {
      orgId: 2,
      orgBalance: 300000,
      departments: {
        4: 300000,
      },
      lastUpdated: now - 1000 * 60 * 60,
    },
  ],
  schedules: [
    {
      id: 1,
      orgId: 1,
      allocationRuleIds: [1, 2],
      distributionRuleIds: [1, 2],
      interval: 1000 * 60 * 60 * 24 * 30,
      lastExecuted: now - 1000 * 60 * 60 * 24 * 29,
      chainId: 8453,
      active: true,
      automationMetadata: "Arc Monthly Close",
    },
    {
      id: 2,
      orgId: 2,
      allocationRuleIds: [3],
      distributionRuleIds: [3],
      interval: 1000 * 60 * 60 * 24 * 7,
      lastExecuted: now - 1000 * 60 * 60 * 24 * 8,
      chainId: 10,
      active: true,
      automationMetadata: "Nova Weekly Grants",
    },
  ],
  intents: [
    {
      id: "intent-payroll-apr",
      orgId: 1,
      distributionRuleIds: [1],
      payloadHash: "0xintentpayloadhash0001",
      validUntil: now + 1000 * 60 * 60 * 24 * 5,
      createdAt: now - 1000 * 60 * 60 * 24,
      executed: false,
    },
  ],
  gatewayTransfers: [
    {
      id: "gw-1",
      orgId: 1,
      deptId: 3,
      direction: "inbound",
      amount: 200000,
      status: "completed",
      createdAt: now - 1000 * 60 * 60 * 24 * 2,
      updatedAt: now - 1000 * 60 * 60 * 24,
      circleId: "circle-in-1",
      txHash: "0xvaultdeposit1",
      metadata: "Fiat onramp for payroll",
    },
    {
      id: "gw-2",
      orgId: 1,
      deptId: 1,
      direction: "outbound",
      amount: 45000,
      status: "processing",
      createdAt: now - 1000 * 60 * 60 * 5,
      updatedAt: now - 1000 * 60 * 30,
      circleId: "circle-out-1",
      metadata: "Vendor payout",
    },
  ],
  crossChainTransfers: [
    {
      id: "cctp-1",
      orgId: 1,
      sourceChainId: 8453,
      destinationChainId: 42161,
      amount: 50000,
      status: "completed",
      initiatedBy: "SmartOrgAccount",
      initiatedAt: now - 1000 * 60 * 60 * 12,
      completedAt: now - 1000 * 60 * 60 * 10,
    },
  ],
  mlInsights: [
    {
      orgId: 1,
      generatedAt: now - 1000 * 60 * 30,
      runwayMonths: 18,
      burnRate: 36000,
      anomalyScore: 0.12,
      recommendations: [
        "Increase R&D allocation by 5% to match roadmap milestones",
        "Trigger automated FX hedge via Circle Gateway",
        "Review vendor payouts with anomaly score > 0.3",
      ],
    },
    {
      orgId: 2,
      generatedAt: now - 1000 * 60 * 45,
      runwayMonths: 9,
      burnRate: 25000,
      anomalyScore: 0.25,
      recommendations: [
        "Enable stricter spend limits on community grants",
        "Move 40% of treasury to Arbitrum for incentives",
      ],
    },
  ],
  payrollProofs: [
    {
      orgId: 1,
      deptId: 3,
      totalAmount: 120000,
      period: "2024-03",
      ruleId: 1,
      proofHash: "0xzkPayrollProofHash0001",
      verified: true,
      submittedAt: now - 1000 * 60 * 60 * 24 * 29,
    },
  ],
  checkpoints: [
    {
      id: "chk-1",
      orgId: 1,
      stateRoot: "0xstateRootAtlas1",
      timestamp: now - 1000 * 60 * 60 * 24 * 30,
    },
    {
      id: "chk-2",
      orgId: 1,
      stateRoot: "0xstateRootAtlas2",
      timestamp: now - 1000 * 60 * 60 * 24 * 1,
    },
  ],
  events: [
    {
      id: "evt-1",
      orgId: 1,
      type: "OrgCreated",
      message: "Org Atlas Labs registered onchain",
      timestamp: now - 1000 * 60 * 60 * 24 * 180,
    },
    {
      id: "evt-2",
      orgId: 1,
      type: "ScheduleExecuted",
      message: "Monthly close executed with ZK payroll proof",
      timestamp: now - 1000 * 60 * 60 * 24 * 29,
      metadata: { scheduleId: 1 },
    },
    {
      id: "evt-3",
      orgId: 1,
      type: "AnomalyDetected",
      message: "Vendor payout flagged for review",
      timestamp: now - 1000 * 60 * 60 * 5,
      metadata: { anomalyScore: 0.42 },
    },
  ],
  selectedOrgId: 1,
};
